import{r as i,u as p,D as g,j as e,E as f,a as N,L as v,F as b,G as u}from"./index-CXoCJ8An.js";const y=({selectedItems:l})=>{const[a,n]=i.useState(""),c=l.reduce((s,t)=>s+t.price*t.quantity,0),d=p(),x=g(),o=()=>{if(l.length===0){n("Please select items to checkout");return}d(f(l.map(s=>s.id))),x("/checkout")};i.useEffect(()=>{l.length>0&&n("")},[l]);const[h,m]=i.useState(15),r=c*(h/100);return e.jsxs("div",{className:"sticky top-0 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"tip-amount",className:"text-sm text-gray-500",children:"How much would you like to tip?"}),e.jsx("br",{}),e.jsxs("select",{id:"tip-amount",className:"w-full bg-transparent border p-2 border-black tip-amount",onChange:s=>m(s.target.value),children:[e.jsx("option",{value:"15",children:"15%"}),e.jsx("option",{value:"20",children:"20%"}),e.jsx("option",{value:"25",children:"25%"})]})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("span",{className:"text-gray-500",children:["Subtotal ( ",l.length," items )"]}),e.jsxs("span",{children:["$",c.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Tip Amount "}),e.jsxs("span",{children:[" ",r.toFixed(2)]})]}),e.jsx("div",{className:"pt-3",children:e.jsx("hr",{})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total "}),e.jsx("span",{className:"text-red-500",children:(c-r).toFixed(2)})]})]}),a&&e.jsx("div",{className:"text-red-500 text-sm mt-2",children:a}),e.jsx("button",{className:"w-full mt-4 py-2 rounded my-3 bg-green-500 text-white hover:bg-green-600 ",onClick:o,children:"Proceed to Checkout"})]})},w=()=>{const{cart:l}=N(s=>s.cart),a=p(),[n,c]=i.useState([]),d=s=>{c(t=>t.includes(s)?t.filter(j=>j!==s):[...t,s])},x=()=>{c(s=>s.length===l.length?[]:l.map(t=>t.id))},o=s=>{a(b(s))},h=(s,t)=>{a(u(s,t+1))},m=(s,t)=>{t>1&&a(u(s,t-1))},r=l.filter(s=>n.includes(s.id));return e.jsx("div",{children:l.length===0?e.jsx("div",{className:"h-full min-h-[calc(100vh-260px)] flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-500",children:["Your cart is ",e.jsx("span",{className:"text-red-600",children:"empty"})]}),e.jsx("button",{className:"p-1 px-3 border-2 border-green-500 text-green-500 text-lg font-semibold hover:bg-green-500 hover:text-white",children:e.jsx(v,{to:"/product",children:"Shop now"})})]})}):e.jsxs("div",{className:"flex justify-around gap-6",children:[e.jsxs("div",{className:"space-y-4 md:w-2/3 w-full",children:[e.jsxs("div",{className:"flex justify-between items-center gap-4 p-4 bg-white rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",onChange:x,className:"h-5 w-5"}),e.jsxs("span",{className:"text-gray-500",children:["Select All Items (",l.length," item)"]})]}),e.jsx("div",{children:e.jsxs("button",{className:"text-gray-500 flex items-center gap-2 hover:text-red-600",onClick:()=>r.map(s=>o(s.id)),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",children:e.jsx("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"})}),e.jsx("span",{children:"Delete"})]})})]}),l.map(s=>{var t;return e.jsxs("div",{className:"flex  gap-4 p-4 bg-white rounded-lg",children:[e.jsx("input",{type:"checkbox",checked:n.includes(s.id),onChange:()=>d(s.id),className:"h-5 w-5"}),e.jsx("div",{className:"h-24 w-24 flex-shrink-0",children:e.jsx("img",{className:"w-full h-full object-contain",src:s.image,alt:s.title})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("p",{className:"md:text-md text-sm",children:((t=s.title)==null?void 0:t.length)>50?s.title.slice(0,50)+"...":s.title}),e.jsxs("div",{className:"text-xl font-bold flex justify-between sm:items-center flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>m(s.id,s.quantity),className:"px-2 py-1 border rounded",children:"-"}),e.jsx("span",{className:"w-8 text-center",children:s.quantity}),e.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>h(s.id,s.quantity),children:"+"})]}),e.jsxs("div",{className:"text-red-600",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[" $",s.price," X ",s.quantity," :"]}),e.jsxs("span",{className:"text-lg font-semibold",children:[" $",(s.price*s.quantity).toFixed(2)]})]})]})]})]},s.id)})]}),e.jsx("div",{className:"md:w-1/3 w-full",children:e.jsx(y,{selectedItems:r})})]})})},C=()=>e.jsx("div",{className:"cart",children:e.jsx(w,{})});export{C as default};
