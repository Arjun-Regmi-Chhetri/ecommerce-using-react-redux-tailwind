import{n as y,u as v,a as o,r as d,o as P,j as e,c as b,p as C}from"./index-DWr4clIU.js";import{R as w}from"./Rating-DCUzzR7z.js";import{i as k}from"./index-CiTVzY5d.js";const S=()=>{const{id:c}=y(),s=v(),{product:a,loading:x,error:l}=o(t=>t.singleProduct),[r,n]=d.useState(1);d.useEffect(()=>{s(P(c))},[s]);const u=()=>{n(t=>t+1)},h=()=>{n(t=>t===1?t:t-1)},{image:m,title:i,price:j,description:g,category:p,rating:f={}}=a,N=()=>{s(C(a,r)),alert("Product added to cart")};return e.jsx(e.Fragment,{children:x?e.jsx(b,{}):l?e.jsx("h1",{children:l}):a?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"flex items-center justify-center col-span-1",children:e.jsx("div",{className:" h-80 w-80 flex-shrink-0 ",children:e.jsx("img",{className:"w-full h-full object-contain",src:m,alt:i})})}),e.jsxs("div",{className:"flex flex-col col-span-2 gap-4",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-500",children:e.jsx("h3",{children:i})}),e.jsx("div",{className:"flex ",children:e.jsx("div",{className:"text-yellow-500 text-xl",children:e.jsx(w,{name:"half-rating-read",defaultValue:f.rate,precision:.5,readOnly:!0})})}),e.jsxs("div",{className:"text-green-500 text-xl flex flex-col gap-4",children:[e.jsxs("p",{children:["Price : ",e.jsxs("span",{className:"text-red-500",children:[" $.",j," "]})]}),e.jsxs("p",{children:["Category: ",e.jsx("span",{className:"text-gray-500",children:p})]})]}),e.jsx("div",{className:"text-gray-500 text-xl",children:e.jsx("p",{children:g})}),e.jsxs("div",{className:"cart flex gap-5 flex-col mt-1",children:[e.jsxs("div",{className:"text-4xl flex gap-4 items-center",children:[e.jsx("button",{className:"text-red-500",onClick:h,children:"-"}),e.jsx("span",{className:"itemCount",children:r}),e.jsx("button",{className:"text-green-500",onClick:u,children:"+"})]}),e.jsx("button",{className:"bg-green-500 text-white w-1/4 px-4 py-2 rounded-full",onClick:N,children:"Add to Cart"})]})]})]}):e.jsx("h1",{children:"Product not found"})})},D=()=>{const{product:c}=o(a=>a.singleProduct),{title:s}=c;return e.jsxs("div",{children:[e.jsx(k,{title:(s==null?void 0:s.length)>15?s.slice(0,15)+"...":s,products:!0}),e.jsx("div",{className:"productdetail p-10",children:e.jsx(S,{})})]})};export{D as default};
